<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Picker</title>
    <link rel="stylesheet" href="../css/theme.css">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- All styles are now globalized in css/theme.css -->
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3527668902044321"
            crossorigin="anonymous"></script>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon-16x16.png">
    <link rel="manifest" href="../assets/images/site.webmanifest">
</head>
<body>
    <a href="../index.html" class="back-button" title="Back to Home"></a>
    <div class="container">
            <div class="header-logo">
        <img src="../../assets/images/1page-logo.png" alt="1Page Tools Logo" class="site-logo">
    </div>
    <header>
            <h1>HTML Color Picker</h1>
            <p class="subtitle">Pick a color and get its values in multiple formats</p>
        </header>
        
        <div class="instructions">
            <h3>How to use:</h3>
            <ol>
                <li>Click on the color picker to select a color</li>
                <li>View color values in HEX, RGB, CMYK, LAB, HSL, XYZ, LUV, and HWB formats</li>
                <li>Click the copy icon next to any value to copy it to clipboard</li>
                <li>Explore lighter and darker variations of your selected color</li>
            </ol>
        </div>
        
        <div class="picker-container">
            <input type="color" id="colorInput" value="#3498db">
            <div class="color-preview" id="colorPreview"></div>
            <div class="values">
                <div class="value-row">Hex: <span id="hexValue">#3498db</span> <button class="copy-icon" data-copy="hex" title="Copy">⧉</button></div>
                <div class="value-row">RGB: <span id="rgbValue">rgb(52, 152, 219)</span> <button class="copy-icon" data-copy="rgb" title="Copy">⧉</button></div>
                <div class="value-row">CMYK: <span id="cmykValue"></span> <button class="copy-icon" data-copy="cmyk" title="Copy">⧉</button></div>
                <div class="value-row">LAB: <span id="labValue"></span> <button class="copy-icon" data-copy="lab" title="Copy">⧉</button></div>
                <div class="value-row">HSL: <span id="hslValue"></span> <button class="copy-icon" data-copy="hsl" title="Copy">⧉</button></div>
                <div class="value-row">XYZ: <span id="xyzValue"></span> <button class="copy-icon" data-copy="xyz" title="Copy">⧉</button></div>
                <div class="value-row">LUV: <span id="luvValue"></span> <button class="copy-icon" data-copy="luv" title="Copy">⧉</button></div>
                <div class="value-row">HWB: <span id="hwbValue"></span> <button class="copy-icon" data-copy="hwb" title="Copy">⧉</button></div>
            </div>
            <div class="palette-section">
                <h3>Color Palette</h3>
                <div><strong>Lighter Variations</strong></div>
                <div class="palette-row" id="lighterPalette"></div>
                <div class="palette-label"><strong>Darker Variations</strong></div>
                <div class="palette-row" id="darkerPalette"></div>
            </div>
        </div>
    </div>
    <script>
        const colorInput = document.getElementById('colorInput');
        const colorPreview = document.getElementById('colorPreview');
        const hexValue = document.getElementById('hexValue');
        const rgbValue = document.getElementById('rgbValue');
        const cmykValue = document.getElementById('cmykValue');
        const labValue = document.getElementById('labValue');
        const hslValue = document.getElementById('hslValue');
        const xyzValue = document.getElementById('xyzValue');
        const luvValue = document.getElementById('luvValue');
        const hwbValue = document.getElementById('hwbValue');
        const lighterPalette = document.getElementById('lighterPalette');
        const darkerPalette = document.getElementById('darkerPalette');

        function hexToRgbObj(hex) {
            hex = hex.replace('#', '');
            if (hex.length === 3) {
                hex = hex.split('').map(x => x + x).join('');
            }
            const r = parseInt(hex.substring(0,2), 16);
            const g = parseInt(hex.substring(2,4), 16);
            const b = parseInt(hex.substring(4,6), 16);
            return {r, g, b};
        }
        function hexToRgb(hex) {
            const {r, g, b} = hexToRgbObj(hex);
            return `rgb(${r}, ${g}, ${b})`;
        }
        function rgbToCmyk(r, g, b) {
            let c = 1 - (r / 255), m = 1 - (g / 255), y = 1 - (b / 255);
            let k = Math.min(c, m, y);
            if (k === 1) return 'cmyk(0%, 0%, 0%, 100%)';
            c = ((c - k) / (1 - k));
            m = ((m - k) / (1 - k));
            y = ((y - k) / (1 - k));
            return `cmyk(${(c*100).toFixed(0)}%, ${(m*100).toFixed(0)}%, ${(y*100).toFixed(0)}%, ${(k*100).toFixed(0)}%)`;
        }
        function rgbToHsl(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            let max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            if (max === min) {
                h = s = 0;
            } else {
                let d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            return `hsl(${(h*360).toFixed(0)}, ${(s*100).toFixed(0)}%, ${(l*100).toFixed(0)}%)`;
        }
        function rgbToLab(r, g, b) {
            // Convert RGB to XYZ
            function pivotRgb(n) {
                n /= 255;
                return n > 0.04045 ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92;
            }
            let R = pivotRgb(r), G = pivotRgb(g), B = pivotRgb(b);
            let X = R * 0.4124 + G * 0.3576 + B * 0.1805;
            let Y = R * 0.2126 + G * 0.7152 + B * 0.0722;
            let Z = R * 0.0193 + G * 0.1192 + B * 0.9505;
            // Normalize for D65 white point
            X /= 0.95047; Y /= 1.00000; Z /= 1.08883;
            function pivotLab(n) {
                return n > 0.008856 ? Math.pow(n, 1/3) : (7.787 * n) + 16/116;
            }
            let L = (116 * pivotLab(Y)) - 16;
            let a = 500 * (pivotLab(X) - pivotLab(Y));
            let b_ = 200 * (pivotLab(Y) - pivotLab(Z));
            return `lab(${L.toFixed(1)}, ${a.toFixed(1)}, ${b_.toFixed(1)})`;
        }
        function rgbToXYZ(r, g, b) {
            function pivotRgb(n) {
                n /= 255;
                return n > 0.04045 ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92;
            }
            let R = pivotRgb(r), G = pivotRgb(g), B = pivotRgb(b);
            let X = R * 0.4124 + G * 0.3576 + B * 0.1805;
            let Y = R * 0.2126 + G * 0.7152 + B * 0.0722;
            let Z = R * 0.0193 + G * 0.1192 + B * 0.9505;
            return `xyz(${(X*100).toFixed(1)}, ${(Y*100).toFixed(1)}, ${(Z*100).toFixed(1)})`;
        }
        function rgbToLuv(r, g, b) {
            // Convert RGB to XYZ
            function pivotRgb(n) {
                n /= 255;
                return n > 0.04045 ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92;
            }
            let R = pivotRgb(r), G = pivotRgb(g), B = pivotRgb(b);
            let X = R * 0.4124 + G * 0.3576 + B * 0.1805;
            let Y = R * 0.2126 + G * 0.7152 + B * 0.0722;
            let Z = R * 0.0193 + G * 0.1192 + B * 0.9505;
            // Reference white
            let Xr = 0.95047, Yr = 1.00000, Zr = 1.08883;
            let ur = (4 * Xr) / (Xr + 15 * Yr + 3 * Zr);
            let vr = (9 * Yr) / (Xr + 15 * Yr + 3 * Zr);
            let u = (4 * X) / (X + 15 * Y + 3 * Z);
            let v = (9 * Y) / (X + 15 * Y + 3 * Z);
            let L = Y / Yr;
            L = L > 0.008856 ? (116 * Math.pow(L, 1/3) - 16) : (903.3 * L);
            let U = 13 * L * (u - ur);
            let V = 13 * L * (v - vr);
            return `luv(${L.toFixed(1)}, ${U.toFixed(1)}, ${V.toFixed(1)})`;
        }
        function rgbToHwb(r, g, b) {
            // HWB: Hue, Whiteness, Blackness
            let hsl = rgbToHsl(r, g, b);
            let [h] = hsl.match(/\d+/);
            let w = Math.min(r, g, b) / 255;
            let bl = 1 - Math.max(r, g, b) / 255;
            return `hwb(${h}, ${(w*100).toFixed(0)}%, ${(bl*100).toFixed(0)}%)`;
        }
        function updateColor() {
            const hex = colorInput.value;
            colorPreview.style.background = hex;
            hexValue.textContent = hex;
            const {r, g, b} = hexToRgbObj(hex);
            rgbValue.textContent = hexToRgb(hex);
            cmykValue.textContent = rgbToCmyk(r, g, b);
            labValue.textContent = rgbToLab(r, g, b);
            hslValue.textContent = rgbToHsl(r, g, b);
            xyzValue.textContent = rgbToXYZ(r, g, b);
            luvValue.textContent = rgbToLuv(r, g, b);
            hwbValue.textContent = rgbToHwb(r, g, b);
            renderPalette(hex);
        }
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text);
        }
        document.querySelectorAll('.copy-icon').forEach(btn => {
            btn.addEventListener('click', function() {
                const type = btn.getAttribute('data-copy');
                let value = '';
                switch(type) {
                    case 'hex': value = hexValue.textContent; break;
                    case 'rgb': value = rgbValue.textContent; break;
                    case 'cmyk': value = cmykValue.textContent; break;
                    case 'lab': value = labValue.textContent; break;
                    case 'hsl': value = hslValue.textContent; break;
                    case 'xyz': value = xyzValue.textContent; break;
                    case 'luv': value = luvValue.textContent; break;
                    case 'hwb': value = hwbValue.textContent; break;
                }
                copyToClipboard(value);
                btn.textContent = '✅';
                setTimeout(() => btn.textContent = '⧉', 1000);
            });
        });
        function blend(hex, percent) {
            // percent: -100 (black) to +100 (white)
            let {r, g, b} = hexToRgbObj(hex);
            if (percent > 0) {
                r = Math.round(r + (255 - r) * percent / 100);
                g = Math.round(g + (255 - g) * percent / 100);
                b = Math.round(b + (255 - b) * percent / 100);
            } else {
                r = Math.round(r * (1 + percent / 100));
                g = Math.round(g * (1 + percent / 100));
                b = Math.round(b * (1 + percent / 100));
            }
            return `rgb(${r}, ${g}, ${b})`;
        }
        function renderPalette(hex) {
            lighterPalette.innerHTML = '';
            darkerPalette.innerHTML = '';
            for (let i = 10; i <= 100; i += 10) {
                const swatch = document.createElement('div');
                swatch.className = 'palette-swatch';
                swatch.style.background = blend(hex, i);
                swatch.title = `+${i}% lighter`;
                swatch.innerHTML = `<span>+${i}%</span>`;
                lighterPalette.appendChild(swatch);
            }
            for (let i = 10; i <= 100; i += 10) {
                const swatch = document.createElement('div');
                swatch.className = 'palette-swatch';
                swatch.style.background = blend(hex, -i);
                swatch.title = `-${i}% darker`;
                swatch.innerHTML = `<span>-${i}%</span>`;
                darkerPalette.appendChild(swatch);
            }
        }
        colorInput.addEventListener('input', updateColor);
        updateColor();
    </script>
    
    <footer class="site-footer">
        &copy; 2025 1page.tools<br>
        <a href="../privacy-policy.html" target="_blank">Privacy Policy</a> &middot; <a href="../terms-of-use.html" target="_blank">Terms of Use</a>
    </footer>
</body>
</html>
