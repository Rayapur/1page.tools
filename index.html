<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1Page Tools - Free Online Tools for Developers & Professionals</title>
    <meta name="description" content="Free online tools for developers and professionals. Color/colour picker, PDF tools, text utilities, math calculators, date/time converters, code formatters, and more. No registration required.">
    <meta name="keywords" content="online tools, free tools, developer tools, color picker, colour picker, PDF tools, text converter, calculator, date converter, code formatter, JSON validator, CSV tools, password generator, GUID generator, colour tools, color tools, text utilities, math utilities, date utilities, time utilities, image tools, web tools, security tools, data tools, geo tools">
    <meta name="author" content="1Page Tools">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    
    <!-- Security Headers are handled by Cloudflare Worker for HTTP headers -->
    <!-- Note: X-Frame-Options meta tag is not supported by browsers, must be HTTP header -->
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="1Page Tools">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="1Page Tools">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="msapplication-TileColor" content="#4f46e5">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="theme-color" content="#4f46e5">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://1page.tools/">
    <meta property="og:title" content="1Page Tools - Free Online Tools for Developers & Professionals">
    <meta property="og:description" content="Free online tools for developers and professionals. Color/colour picker, PDF tools, text utilities, math calculators, date/time converters, code formatters, and more. No registration required.">
    <meta property="og:image" content="https://1page.tools/og-image.png">
    <meta property="og:site_name" content="1Page Tools">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="en_GB">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://1page.tools/">
    <meta property="twitter:title" content="1Page Tools - Free Online Tools for Developers & Professionals">
    <meta property="twitter:description" content="Free online tools for developers and professionals. Color/colour picker, PDF tools, text utilities, math calculators, date/time converters, code formatters, and more. No registration required.">
    <meta property="twitter:image" content="https://1page.tools/og-image.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://1page.tools/">
    
    <!-- Language Support -->
    <link rel="alternate" hreflang="en-us" href="https://1page.tools/">
    <link rel="alternate" hreflang="en-gb" href="https://1page.tools/">
    <link rel="alternate" hreflang="en" href="https://1page.tools/">
    <link rel="alternate" hreflang="x-default" href="https://1page.tools/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16x16.png">
    <link rel="manifest" href="assets/images/site.webmanifest">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#2563eb">
    <meta name="msapplication-TileColor" content="#2563eb">
    
    <link rel="stylesheet" href="css/theme.css">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- All styles are now globalized in css/theme.css -->
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3527668902044321"
            crossorigin="anonymous"></script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "1Page Tools",
        "url": "https://1page.tools",
        "description": "Free online tools for developers and professionals. Color/colour picker, PDF tools, text utilities, math calculators, date/time converters, code formatters, and more.",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://1page.tools/?q={search_term_string}",
            "query-input": "required name=search_term_string"
        },
        "publisher": {
            "@type": "Organization",
            "name": "1Page Tools",
            "url": "https://1page.tools"
        }
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "name": "Online Tools Collection",
        "description": "Collection of free online tools for developers and professionals",
        "url": "https://1page.tools",
        "numberOfItems": 43,
        "itemListElement": [
            {
                "@type": "SoftwareApplication",
                "name": "Color Picker",
                "description": "Pick colors and get hex, RGB, HSL values instantly",
                "url": "https://1page.tools/color/colorpicker.html",
                "applicationCategory": "DeveloperApplication",
                "operatingSystem": "Web Browser"
            },
            {
                "@type": "SoftwareApplication",
                "name": "PDF Tools",
                "description": "PDF splitter, password remover, and image converter",
                "url": "https://1page.tools/pdf/",
                "applicationCategory": "BusinessApplication",
                "operatingSystem": "Web Browser"
            },
            {
                "@type": "SoftwareApplication",
                "name": "Text Tools",
                "description": "Case converter, text counter, diff checker, and lorem ipsum generator",
                "url": "https://1page.tools/text/",
                "applicationCategory": "DeveloperApplication",
                "operatingSystem": "Web Browser"
            }
        ]
    }
    </script>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode">
        <i class="material-icons theme-toggle-icon">dark_mode</i>
        <span class="theme-toggle-text">Dark</span>
    </button>

    <div class="page-wrapper">
        <!-- Left Sidebar -->
        <div class="sidebar">
            <div class="ad-container vertical">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-3527668902044321"
                     data-ad-slot="1234567890"
                     data-ad-format="rectangle"
                     data-full-width-responsive="true"></ins>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="container">
                <div class="header-logo">
                    <img src="assets/images/1page-logo.png" alt="1Page Tools Logo" class="site-logo">
                </div>
                <h1>1page.tools</h1>
                <p>Simple, fast, and free online tools for everyone. No sign-up, no clutterâ€”just what you need, on one page.</p>
        <!-- Search Bar and Recent Tools Row -->
        <div class="search-recent-row">
            <!-- Search Bar -->
            <div class="search-container">
                <div class="search-box">
                    <i class="material-icons search-icon">search</i>
                    <input type="text" id="toolSearch" placeholder="Search tools..." oninput="searchTools()">
                    <button class="clear-search" onclick="clearSearch()" id="clearSearchBtn" style="display: none;">
                        <i class="material-icons">close</i>
                    </button>
                </div>
            </div>

            <!-- Recent Tools Widget -->
            <div class="recent-tools" id="recentTools" style="display: none;">
                <h3>Recently Used Tools</h3>
                <div class="recent-tools-list" id="recentToolsList">
                    <!-- Recent tools will be populated here -->
                </div>
            </div>
        </div>

        <br>
        <!-- Filter capsules -->
        <div class="filter-capsules" id="filterCapsules">
            <button class="filter-btn active" data-filter="all">
                <i class="material-icons">apps</i>
                All
            </button>
            <button class="filter-btn" data-filter="pdf">
                <i class="material-icons">picture_as_pdf</i>
                PDF
            </button>
            <button class="filter-btn" data-filter="color">
                <i class="material-icons">palette</i>
                Color
            </button>
            <button class="filter-btn" data-filter="image">
                <i class="material-icons">image</i>
                Image
            </button>
            <button class="filter-btn" data-filter="text">
                <i class="material-icons">text_fields</i>
                Text
            </button>
            <button class="filter-btn" data-filter="math">
                <i class="material-icons">calculate</i>
                Math
            </button>
            <button class="filter-btn" data-filter="datetime">
                <i class="material-icons">schedule</i>
                Time
            </button>
            <button class="filter-btn" data-filter="code">
                <i class="material-icons">code</i>
                Code
            </button>
            <button class="filter-btn" data-filter="web">
                <i class="material-icons">web</i>
                Web
            </button>
            <button class="filter-btn" data-filter="security">
                <i class="material-icons">security</i>
                Security
            </button>
            <button class="filter-btn" data-filter="csv">
                <i class="material-icons">table_chart</i>
                CSV
            </button>
            <button class="filter-btn" data-filter="audio">
                <i class="material-icons">audiotrack</i>
                Audio
            </button>
            <button class="filter-btn" data-filter="geo">
                <i class="material-icons">place</i>
                Geo
            </button>
            <button class="filter-btn" data-filter="games">
                <i class="material-icons">sports_esports</i>
                Games
            </button>
        </div>

        <!-- AdSense Banner Ad - Temporarily hidden until approval -->
        <!-- <div class="ad-container ad-banner">
            <ins class="adsbygoogle"
                 style="display:block"
                data-ad-client="ca-pub-3527668902044321"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div> -->

        <!-- Tool cards grouped by category -->
        <div class="tools-list" id="toolsList">
            <div class="tool-card" data-category="color">
                <a href="color/colorpicker.html">Color Picker</a>
                <div class="tool-desc">Pick a color and get its RGB & Hex values instantly.</div>
            </div>
            <div class="tool-card" data-category="color">
                <a href="color/colorpickerimage.html">Color Picker from Image</a>
                <div class="tool-desc">Extract colors from images and generate harmonious palettes.</div>
            </div>
            <div class="tool-card" data-category="image">
                <a href="image/imagecompressor.html">Image Compressor</a>
                <div class="tool-desc">Reduce image file size while maintaining quality.</div>
            </div>
            <div class="tool-card" data-category="image">
                <a href="image/imageresizer.html">Image Resizer</a>
                <div class="tool-desc">Resize images to specific dimensions or percentages.</div>
            </div>
            <div class="tool-card" data-category="image">
                <a href="image/imageconverter.html">Image Format Converter</a>
                <div class="tool-desc">Convert images between PNG, JPEG, and WebP formats.</div>
            </div>
            <div class="tool-card" data-category="image">
                <a href="image/imageblur.html">Image Blur Tool</a>
                <div class="tool-desc">Apply blur effects to images with adjustable intensity slider.</div>
            </div>
            <div class="tool-card" data-category="image">
                <a href="image/imagecropper.html">Image Cropper Tool</a>
                <div class="tool-desc">Crop images with aspect ratio presets and custom dimensions.</div>
            </div>
            <div class="tool-card" data-category="image">
                <a href="image/imagerotator.html">Image Rotator Tool</a>
                <div class="tool-desc">Rotate and flip images with precision controls.</div>
            </div>
            <div class="tool-card" data-category="pdf">
                <a href="pdf/pdfsticher.html">PDF Stitcher</a>
                <div class="tool-desc">Combine multiple PDFs into one seamless document.</div>
            </div>
            <div class="tool-card" data-category="pdf">
                <a href="pdf/topdf.html">Image to PDF</a>
                <div class="tool-desc">Convert images to PDF format easily.</div>
            </div>
            <div class="tool-card" data-category="pdf">
                <a href="pdf/pdfspliter.html">PDF Splitter</a>
                <div class="tool-desc">Split PDF files into individual pages or custom ranges.</div>
            </div>
            <div class="tool-card" data-category="pdf">
                <a href="pdf/pdfpasswordremover.html">PDF Password Remover</a>
                <div class="tool-desc">Remove password protection from PDF files.</div>
            </div>
            <div class="tool-card" data-category="pdf">
                <a href="pdf/pdftoimage.html">PDF to Image Converter</a>
                <div class="tool-desc">Convert PDF pages to high-quality images in various formats.</div>
            </div>
            <div class="tool-card" data-category="text">
                <a href="text/caseconverter.html">Case Converter</a>
                <div class="tool-desc">Convert text between different cases (uppercase, lowercase, camelCase, etc.).</div>
            </div>
            <div class="tool-card" data-category="text">
                <a href="text/textcounter.html">Text Counter</a>
                <div class="tool-desc">Count words, characters, sentences, and paragraphs in your text.</div>
            </div>
            <div class="tool-card" data-category="text">
                <a href="text/textdiff.html">Text Diff Checker</a>
                <div class="tool-desc">Compare two texts and highlight the differences between them.</div>
            </div>
            <div class="tool-card" data-category="text">
                <a href="text/loremipsum.html">Lorem Ipsum Generator</a>
                <div class="tool-desc">Generate placeholder text for your projects and designs.</div>
            </div>
            <div class="tool-card" data-category="math">
                <a href="math/calculator.html">Simple Calculator</a>
                <div class="tool-desc">Perform basic arithmetic operations with ease.</div>
            </div>
            <div class="tool-card" data-category="math">
                <a href="math/unitconverter.html">Unit Converter</a>
                <div class="tool-desc">Convert between different units of measurement.</div>
            </div>
            <div class="tool-card" data-category="math">
                <a href="math/scientificcalculator.html">Scientific Calculator</a>
                <div class="tool-desc">Advanced calculator with trigonometry, logarithms, and more.</div>
            </div>
            <div class="tool-card" data-category="math">
                <a href="math/percentage.html">Percentage Calculator</a>
                <div class="tool-desc">Calculate percentages, increases, decreases, and more.</div>
            </div>
            <div class="tool-card" data-category="datetime">
                <a href="datetime/epochconverter.html">Epoch Converter</a>
                <div class="tool-desc">Convert between Unix timestamp and human-readable date/time.</div>
            </div>
            <div class="tool-card" data-category="datetime">
                <a href="datetime/timezoneconverter.html">Timezone Converter</a>
                <div class="tool-desc">Convert time between different timezones around the world.</div>
            </div>
            <div class="tool-card" data-category="datetime">
                <a href="datetime/countdowntimer.html">Countdown Timer</a>
                <div class="tool-desc">Create and manage countdown timers for events and deadlines.</div>
            </div>
            <div class="tool-card" data-category="datetime">
                <a href="datetime/stopwatch.html">Stopwatch</a>
                <div class="tool-desc">Precise time tracking with lap functionality.</div>
            </div>
            <div class="tool-card" data-category="datetime">
                <a href="datetime/timer.html">Timer</a>
                <div class="tool-desc">Set custom timers with lap tracking and quick presets.</div>
            </div>
            <div class="tool-card" data-category="code">
                <a href="code/jsonformatter.html">JSON Formatter & Validator</a>
                <div class="tool-desc">Format, validate, and beautify JSON data with detailed error messages.</div>
            </div>
            <div class="tool-card" data-category="code">
                <a href="code/xmlformatter.html">XML Formatter</a>
                <div class="tool-desc">Format, validate, and beautify XML documents with syntax checking.</div>
            </div>
            <div class="tool-card" data-category="code">
                <a href="code/csvtojson.html">CSV to JSON Converter</a>
                <div class="tool-desc">Convert CSV data to JSON format with customizable options and data preview.</div>
            </div>
            <div class="tool-card" data-category="code">
                <a href="code/base64encoder.html">Base64 Encoder/Decoder</a>
                <div class="tool-desc">Encode and decode text and files to/from Base64 format.</div>
            </div>
            <div class="tool-card" data-category="code">
                <a href="code/regextester.html">Regex Tester</a>
                <div class="tool-desc">Test and debug regular expressions with real-time matching and capture groups.</div>
            </div>
            <div class="tool-card" data-category="web">
                <a href="web/urlencoder.html">URL Encoder/Decoder</a>
                <div class="tool-desc">Encode and decode URLs, query parameters, and special characters with multiple formats.</div>
            </div>
            <div class="tool-card" data-category="web">
                <a href="web/qrcodegenerator.html">QR Code Generator</a>
                <div class="tool-desc">Generate QR codes for URLs, text, WiFi, contact info, and more with customization options.</div>
            </div>
            <div class="tool-card" data-category="web">
                <a href="web/favicongenerator.html">Favicon Generator</a>
                <div class="tool-desc">Create favicons from text, images, or emojis for your website with multiple formats.</div>
            </div>
            <div class="tool-card" data-category="security">
                <a href="security/passwordgenerator.html">Password Generator</a>
                <div class="tool-desc">Generate secure, customizable passwords with strength analysis and security recommendations.</div>
            </div>
            <div class="tool-card" data-category="security">
                <a href="security/hashgenerator.html">Hash Generator</a>
                <div class="tool-desc">Generate cryptographic hashes for text, files, and data integrity verification.</div>
            </div>
            <div class="tool-card" data-category="security">
                <a href="security/emailvalidator.html">Email Validator</a>
                <div class="tool-desc">Validate email addresses with comprehensive checks and domain analysis.</div>
            </div>
            <div class="tool-card" data-category="security">
                <a href="security/guidgenerator.html">GUID Generator</a>
                <div class="tool-desc">Generate unique GUIDs (Globally Unique Identifiers) for your applications.</div>
            </div>
            <div class="tool-card" data-category="csv">
                <a href="csv/colorcsv.html">Color CSV</a>
                <div class="tool-desc">Upload a CSV file and color each column differently for better visualization.</div>
            </div>
            <div class="tool-card" data-category="csv">
                <a href="csv/chartgenerator.html">Chart Generator</a>
                <div class="tool-desc">Create beautiful charts from CSV data with multiple chart types.</div>
            </div>
            <div class="tool-card" data-category="audio">
                <a href="audio/audioconverter.html">Audio Converter Tool</a>
                <div class="tool-desc">Convert audio files between MP3, WAV, FLAC, and other formats.</div>
            </div>
            <div class="tool-card" data-category="geo">
                <a href="geo/ipgeoloc.html">IP Geolocation</a>
                <div class="tool-desc">Find the location of any IP address.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/wordle.html">Wordle Game</a>
                <div class="tool-desc">Guess the 5-letter word in 6 tries! Classic word puzzle game.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/memory.html">Memory Card Game</a>
                <div class="tool-desc">Test your memory by matching pairs of cards! Multiple difficulty levels and themes.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/mathquiz.html">Math Quiz Game</a>
                <div class="tool-desc">Test your math skills with timed challenges! Addition, subtraction, multiplication, and division.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/typing.html">Typing Speed Test</a>
                <div class="tool-desc">Improve your typing speed and accuracy! Multiple difficulty levels with real-time feedback.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/2048.html">2048 Number Puzzle</a>
                <div class="tool-desc">Combine numbered tiles to reach 2048! Strategic puzzle game with smooth animations.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/simon.html">Simon Says Game</a>
                <div class="tool-desc">Follow the sequence and test your memory! Visual and audio engagement with multiple speeds.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/spellingbee.html">Spelling Bee Game</a>
                <div class="tool-desc">Test your spelling skills and expand your vocabulary! Multiple difficulty levels with definitions and hints.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/geography.html">Geography Quiz</a>
                <div class="tool-desc">Test your knowledge of world geography! Countries, capitals, flags, and landmarks.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/tictactoe.html">Tic-Tac-Toe Game</a>
                <div class="tool-desc">Classic game with smart AI opponent! Multiple difficulty levels from easy to unbeatable.</div>
            </div>
            <div class="tool-card" data-category="games">
                <a href="games/wordsearch.html">Word Search Generator</a>
                <div class="tool-desc">Find all the hidden words in the grid! Multiple themes with interactive gameplay.</div>
            </div>
                <!-- Add more tools below as you create them, with appropriate data-category -->
                </div>

                <!-- Horizontal Ad for Mobile/Tablet -->
                <div class="ad-container horizontal">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-3527668902044321"
                         data-ad-slot="0987654321"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                </div>

                <div class="footer">
                      &copy; 2025 1page.tools &mdash; Made for simplicity.<br>
                      <a href="privacy-policy.html" target="_blank">Privacy Policy</a> &middot; <a href="terms-of-use.html" target="_blank">Terms of Use</a>
                </div>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="sidebar">
            <div class="ad-container vertical">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-3527668902044321"
                     data-ad-slot="1122334455"
                     data-ad-format="rectangle"
                     data-full-width-responsive="true"></ins>
            </div>
        </div>
    </div>
    <script>
        // Initialize AdSense ads and hide empty containers
        (adsbygoogle = window.adsbygoogle || []).push({});
        
        // Hide ad containers that don't have content after a delay
        function hideEmptyAds() {
            const adContainers = document.querySelectorAll('.ad-container');
            adContainers.forEach(function(container) {
                const adElement = container.querySelector('.adsbygoogle');
                // Check if ad element exists but has no content or is showing placeholder
                if (!adElement || 
                    adElement.offsetHeight === 0 || 
                    adElement.innerHTML.trim() === '' ||
                    adElement.querySelector('img[src*="placeholder"]') ||
                    adElement.querySelector('img[alt*="Ad"]')) {
                    container.style.display = 'none';
                    container.style.height = '0';
                    container.style.margin = '0';
                    container.style.padding = '0';
                }
            });
        }
        
        // Check multiple times to catch ads that load later
        setTimeout(hideEmptyAds, 3000);
        setTimeout(hideEmptyAds, 5000);
        setTimeout(hideEmptyAds, 8000); // Wait 5 seconds for ads to load
        
        // Responsive ad handling
        function handleResponsiveAds() {
            const sidebars = document.querySelectorAll('.sidebar');
            const pageWrapper = document.querySelector('.page-wrapper');
            
            if (window.innerWidth <= 1200) {
                // On mobile/tablet, make sidebars horizontal
                sidebars.forEach(sidebar => {
                    sidebar.style.flexDirection = 'row';
                    sidebar.style.justifyContent = 'center';
                    sidebar.style.gap = '1rem';
                });
            } else {
                // On desktop, keep sidebars vertical
                sidebars.forEach(sidebar => {
                    sidebar.style.flexDirection = 'column';
                    sidebar.style.justifyContent = 'flex-start';
                });
            }
        }
        
        // Call on load and resize
        window.addEventListener('load', handleResponsiveAds);
        window.addEventListener('resize', handleResponsiveAds);
        
        // Filter logic
        document.addEventListener('DOMContentLoaded', function() {
            const filterCapsules = document.getElementById('filterCapsules');
            const filterBtns = filterCapsules.querySelectorAll('.filter-btn');
            const toolsList = document.getElementById('toolsList');
            const toolCards = toolsList.querySelectorAll('.tool-card');

            filterCapsules.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-btn')) {
                    filterBtns.forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    const filter = e.target.getAttribute('data-filter');
                    toolCards.forEach(card => {
                        if (filter === 'all' || card.getAttribute('data-category') === filter) {
                            card.style.display = '';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                }
            });
        });
    </script>

    <script>
        // Dark Mode Toggle Functionality
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            // Update toggle button
            updateThemeToggle(newTheme);
        }

        function updateThemeToggle(theme) {
            const icon = document.querySelector('.theme-toggle-icon');
            const text = document.querySelector('.theme-toggle-text');
            
            if (theme === 'dark') {
                icon.textContent = 'light_mode';
                text.textContent = 'Light';
            } else {
                icon.textContent = 'dark_mode';
                text.textContent = 'Dark';
            }
        }

        // Initialize theme on page load
        function initializeTheme() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = savedTheme || (prefersDark ? 'dark' : 'light');
            
            document.documentElement.setAttribute('data-theme', theme);
            updateThemeToggle(theme);
        }

        // Initialize theme when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeTheme();
            updateRecentToolsDisplay();
        });

        // Recent Tools Functionality
        function trackToolUsage(toolName, toolUrl, toolCategory) {
            const recentTools = JSON.parse(localStorage.getItem('recentTools') || '[]');
            
            // Remove if already exists
            const existingIndex = recentTools.findIndex(tool => tool.url === toolUrl);
            if (existingIndex > -1) {
                recentTools.splice(existingIndex, 1);
            }
            
            // Add to beginning
            recentTools.unshift({
                name: toolName,
                url: toolUrl,
                category: toolCategory,
                timestamp: Date.now()
            });
            
            // Keep only last 5
            if (recentTools.length > 5) {
                recentTools.splice(5);
            }
            
            localStorage.setItem('recentTools', JSON.stringify(recentTools));
            updateRecentToolsDisplay();
        }
        
        function updateRecentToolsDisplay() {
            const recentTools = JSON.parse(localStorage.getItem('recentTools') || '[]');
            const recentToolsContainer = document.getElementById('recentTools');
            const recentToolsList = document.getElementById('recentToolsList');
            
            if (recentTools.length === 0) {
                recentToolsContainer.style.display = 'none';
                return;
            }
            
            recentToolsContainer.style.display = 'block';
            
            // Clear existing items
            recentToolsList.innerHTML = '';
            
            recentTools.forEach(tool => {
                const toolItem = document.createElement('a');
                toolItem.className = 'recent-tool-item';
                toolItem.href = tool.url;
                toolItem.innerHTML = `
                    <i class="material-icons">${getCategoryIcon(tool.category)}</i>
                    <span>${tool.name}</span>
                `;
                
                // Add click tracking
                toolItem.addEventListener('click', function() {
                    trackToolUsage(tool.name, tool.url, tool.category);
                });
                
                recentToolsList.appendChild(toolItem);
            });
        }
        
        function getCategoryIcon(category) {
            const icons = {
                'pdf': 'picture_as_pdf',
                'color': 'palette',
                'image': 'image',
                'text': 'text_fields',
                'math': 'calculate',
                'datetime': 'schedule',
                'code': 'code',
                'web': 'web',
                'security': 'security',
                'csv': 'table_chart',
                'geo': 'place',
                'audio': 'audiotrack',
                'games': 'sports_esports'
            };
            return icons[category] || 'build';
        }
        
        function clearRecentTools() {
            localStorage.removeItem('recentTools');
            updateRecentToolsDisplay();
        }

        // Tool Search Functionality
        function searchTools() {
            const searchTerm = document.getElementById('toolSearch').value.toLowerCase().trim();
            const toolCards = document.querySelectorAll('.tool-card');
            const clearBtn = document.getElementById('clearSearchBtn');
            const filterBtns = document.querySelectorAll('.filter-btn');
            const toolsList = document.getElementById('toolsList');
            
            // Show/hide clear button
            clearBtn.style.display = searchTerm ? 'block' : 'none';
            
            if (!searchTerm) {
                // Clear search - show all tools
                toolCards.forEach(card => {
                    card.style.display = '';
                });
                // Reset to "All" filter
                filterBtns.forEach(btn => btn.classList.remove('active'));
                filterBtns[0].classList.add('active');
                return;
            }
            
            // Deactivate all filter buttons during search
            filterBtns.forEach(btn => btn.classList.remove('active'));
            
            let visibleCount = 0;
            toolCards.forEach(card => {
                const toolName = card.querySelector('a').textContent.toLowerCase();
                const toolDesc = card.querySelector('.tool-desc').textContent.toLowerCase();
                const toolCategory = card.getAttribute('data-category');
                
                const matchesSearch = toolName.includes(searchTerm) || 
                                    toolDesc.includes(searchTerm) || 
                                    toolCategory.includes(searchTerm);
                
                if (matchesSearch) {
                    card.style.display = '';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Show search results info
            showSearchResults(visibleCount, searchTerm);
        }
        
        function clearSearch() {
            document.getElementById('toolSearch').value = '';
            searchTools();
        }
        
        function showSearchResults(count, term) {
            // Remove existing search info
            const existingInfo = document.querySelector('.search-results-info');
            if (existingInfo) {
                existingInfo.remove();
            }
            
            if (count === 0) {
                // Show no results message
                const noResults = document.createElement('div');
                noResults.className = 'no-results';
                noResults.innerHTML = `
                    <i class="material-icons">search_off</i>
                    <h3>No tools found</h3>
                    <p>No tools match "${term}". Try a different search term.</p>
                `;
                
                const toolsList = document.getElementById('toolsList');
                toolsList.appendChild(noResults);
            } else {
                // Show results count
                const resultsInfo = document.createElement('div');
                resultsInfo.className = 'search-results-info';
                resultsInfo.innerHTML = `Found ${count} tool${count !== 1 ? 's' : ''} matching "${term}"`;
                
                const toolsList = document.getElementById('toolsList');
                toolsList.appendChild(resultsInfo);
            }
        }
        
        // Clear search when filter buttons are clicked
        document.addEventListener('DOMContentLoaded', function() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Clear search when switching filters
                    document.getElementById('toolSearch').value = '';
                    document.getElementById('clearSearchBtn').style.display = 'none';
                    
                    // Remove search results info
                    const searchInfo = document.querySelector('.search-results-info');
                    const noResults = document.querySelector('.no-results');
                    if (searchInfo) searchInfo.remove();
                    if (noResults) noResults.remove();
                });
            });
            
            // Add click tracking to all tool cards
            const toolCards = document.querySelectorAll('.tool-card a');
            toolCards.forEach(link => {
                link.addEventListener('click', function() {
                    const toolName = this.textContent.trim();
                    const toolUrl = this.href;
                    const toolCategory = this.closest('.tool-card').getAttribute('data-category');
                    
                    // Track tool usage
                    trackToolUsage(toolName, toolUrl, toolCategory);
                });
            });
        });

        // PWA Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                        
                        // Check for updates
                        registration.addEventListener('updatefound', function() {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', function() {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New content is available, show update notification
                                    showUpdateNotification();
                                }
                            });
                        });
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }

        // PWA Install Prompt
        let deferredPrompt;
        let installButton;

        // Show install button after page load
        window.addEventListener('load', function() {
            setTimeout(showInstallButton, 2000); // Show after 2 seconds
        });

        // Additional fallback to show install button
        setTimeout(function() {
            if (!document.getElementById('pwa-install-btn')) {
                console.log('Fallback: showing install button');
                showInstallButton();
            }
        }, 5000);

        window.addEventListener('beforeinstallprompt', function(e) {
            console.log('PWA install prompt triggered');
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button if not already installed
            showInstallButton();
        });

        // PWA Install Button
        function showInstallButton() {
            // Check if already installed
            if (window.matchMedia('(display-mode: standalone)').matches || 
                window.navigator.standalone === true) {
                console.log('App is already installed');
                return;
            }

            // Check if button already exists
            if (document.getElementById('pwa-install-btn')) {
                return;
            }

            console.log('Showing PWA install button');
            
            const installBtn = document.createElement('button');
            installBtn.id = 'pwa-install-btn';
            installBtn.innerHTML = 'ðŸ“± Install App';
            installBtn.className = 'pwa-install-btn';
            installBtn.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: #4f46e5;
                color: white;
                border: none;
                padding: 12px 20px;
                border-radius: 25px;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
                z-index: 1000;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                gap: 8px;
                font-family: inherit;
            `;
            
            installBtn.addEventListener('click', function() {
                console.log('Install button clicked');
                if (deferredPrompt) {
                    installPWA();
                } else {
                    // Fallback for browsers that don't support beforeinstallprompt
                    alert('To install this app:\n\nâ€¢ On mobile: Tap the menu button and select "Add to Home Screen"\nâ€¢ On desktop: Click the install icon in your browser address bar');
                }
            });
            
            installBtn.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
                this.style.boxShadow = '0 6px 16px rgba(79, 70, 229, 0.4)';
            });
            installBtn.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = '0 4px 12px rgba(79, 70, 229, 0.3)';
            });
            
            document.body.appendChild(installBtn);
            console.log('PWA install button added to DOM');
        }

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then(function(choiceResult) {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the PWA install prompt');
                    } else {
                        console.log('User dismissed the PWA install prompt');
                    }
                    deferredPrompt = null;
                    document.getElementById('pwa-install-btn').style.display = 'none';
                });
            }
        }

        // Hide install button after installation
        window.addEventListener('appinstalled', function(evt) {
            console.log('PWA was installed');
            const installBtn = document.getElementById('pwa-install-btn');
            if (installBtn) {
                installBtn.style.display = 'none';
            }
        });

        // Update notification
        function showUpdateNotification() {
            const notification = document.createElement('div');
            notification.id = 'update-notification';
            notification.innerHTML = `
                <div style="
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: #4f46e5;
                    color: white;
                    padding: 16px 24px;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    z-index: 1001;
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    max-width: 90%;
                ">
                    <span>ðŸ”„ New version available!</span>
                    <button onclick="updateApp()" style="
                        background: white;
                        color: #4f46e5;
                        border: none;
                        padding: 8px 16px;
                        border-radius: 4px;
                        cursor: pointer;
                        font-weight: 600;
                    ">Update</button>
                    <button onclick="this.parentElement.parentElement.remove()" style="
                        background: transparent;
                        color: white;
                        border: 1px solid white;
                        padding: 8px 12px;
                        border-radius: 4px;
                        cursor: pointer;
                    ">Later</button>
                </div>
            `;
            document.body.appendChild(notification);
        }

        function updateApp() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistration().then(function(registration) {
                    if (registration && registration.waiting) {
                        registration.waiting.postMessage({ type: 'SKIP_WAITING' });
                        window.location.reload();
                    }
                });
            }
        }

        // PWA status logging
        if (window.location.hostname !== 'localhost') {
            console.log('PWA Status:', {
                serviceWorkerSupported: 'serviceWorker' in navigator,
                standaloneMode: window.matchMedia('(display-mode: standalone)').matches,
                navigatorStandalone: window.navigator.standalone
            });
        }
        
        // Check if app is running in standalone mode (installed)
        if (window.matchMedia('(display-mode: standalone)').matches || 
            window.navigator.standalone === true) {
            console.log('App is running in standalone mode');
            // Hide install button if already installed
            const installBtn = document.getElementById('pwa-install-btn');
            if (installBtn) {
                installBtn.style.display = 'none';
            }
        } else {
            console.log('App is running in browser mode');
        }
    </script>
</body>
</html>
